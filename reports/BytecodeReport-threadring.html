<html>
  <head>
    <title>Bytecode Analysis Report</title>
    <link rel='stylesheet' type='text/css' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css' />
    <link rel='stylesheet' type='text/css' href='//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css' />
    <script src='https://code.jquery.com/jquery-3.1.1.slim.min.js' type='text/javascript'></script>
    <script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js' type='text/javascript'></script>
    <script src='//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js' type='text/javascript'></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </head>
  <body>
    <ul class='breadcrumb'>
      <li>
        <a href='../index.html'>Home</a>
        <span class='divider' />
      </li>
      <li>
        <a>THREADRING</a>
      </li>
    </ul>
    <h2 class='text-center'>Bytecode Analysis for script: threadring</h2>
    <div class='row col-lg-4 col-lg-offset-4'>
      <pre>
        <code class='groovy'>/*
 * The Computer Language Benchmarks Game
 * http://shootout.alioth.debian.org/
 *
 * contributed by Klaus Friedel
 * converted to Groovy by Danno Ferrin
 */

import java.util.concurrent.locks.LockSupport

class MessageThread extends Thread {
    MessageThread nextThread
    volatile Integer message

    MessageThread(MessageThread nextThread, int name) {
        super(name as String)
        this.nextThread = nextThread
    }

    void run() {
        while (true) nextThread.enqueue(dequeue())
    }

    void enqueue(Integer hopsRemaining) {
        if (hopsRemaining == 0) {
            println(getName())
            System.exit(0)
        }
        // as only one message populates the ring, it's impossible
        // that queue is not empty
        message = hopsRemaining - 1
        LockSupport.unpark(this) // work waiting...
    }

    private Integer dequeue() {
        while (message == null) {
            LockSupport.park()
        }
        Integer msg = message
        message = null
        return msg
    }
}
class threadring {
    public static void main(String[] args) {
        int THREAD_COUNT = 503

        int hopCount = args[0] as Integer

        MessageThread first
        MessageThread last
        (THREAD_COUNT..1).each {
            i -&gt;
                first = new MessageThread(first, i)
                if (i == THREAD_COUNT) last = first
        }
// close the ring
        last.nextThread = first

// start all threads
        MessageThread t = first
        THREAD_COUNT.times {
            t.start()
            t = t.nextThread
        }

// inject message
        first.enqueue(hopCount)
        first.join() // wait for System.exit
    }
}
</code>
      </pre>
    </div>
    <div class='row col-sm-8 text-center col-sm-offset-3'>
      <table class='table'>
        <tr>
          <th></th>
          <th>Groovyc</th>
          <th>Indy</th>
          <th>Static</th>
        </tr>
        <tr>
          <td>Lines Before</td>
          <td>245</td>
          <td>200</td>
          <td>206</td>
        </tr>
        <tr>
          <td>Lines After</td>
          <td>233</td>
          <td>190</td>
          <td>190</td>
        </tr>
        <tr>
          <td>Lines Removed</td>
          <td>12</td>
          <td>10</td>
          <td>16</td>
        </tr>
      </table>
    </div>
    <div class='row col-sm-12 text-center'>
      <h2>Benchmarks</h2>
      <div class='col-sm-4 text-center'>
        <h3>For parameter: 1</h3>
        <table class='table'>
          <tr>
            <th></th>
            <th>Groovyc</th>
            <th>Indy</th>
            <th>Static</th>
          </tr>
          <tr>
            <td>Benchmark - Before</td>
            <td>482</td>
            <td>553</td>
            <td>379</td>
          </tr>
          <tr>
            <td>Benchmark - After</td>
            <td>321</td>
            <td>108</td>
            <td>108</td>
          </tr>
        </table>
      </div>
    </div>
    <div class='row col-sm-12'>
      <h1>BEFORE</h1>
    </div>
    <div class='row col-lg-12'>
      <div class='col-md-4'>
        <h2 class='text-center'>Groovyc (Legacy)</h2>
        <pre>
          <code class='assembly'>Compiled from "threadring.groovy"
public class threadring implements groovy.lang.GroovyObject {
  public static transient boolean __$stMC;

  public threadring();
    Code:
       0: aload_0
       1: invokespecial #17                 // Method java/lang/Object."&lt;init&gt;":()V
       4: invokestatic  #21                 // Method $getCallSiteArray:()[Lorg/codehaus/groovy/runtime/callsite/CallSite;
       7: astore_1
       8: aload_0
       9: invokevirtual #25                 // Method $getStaticMetaClass:()Lgroovy/lang/MetaClass;
      12: astore_2
      13: aload_2
      14: aload_0
      15: swap
      16: putfield      #27                 // Field metaClass:Lgroovy/lang/MetaClass;
      19: aload_2
      20: pop
      21: return

  public static void main(java.lang.String...);
    Code:
       0: invokestatic  #21                 // Method $getCallSiteArray:()[Lorg/codehaus/groovy/runtime/callsite/CallSite;
       3: astore_1
       4: sipush        503
       7: invokestatic  #37                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      10: new           #39                 // class groovy/lang/Reference
      13: dup_x1
      14: swap
      15: invokespecial #42                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
      18: astore_2
      19: aload_2
      20: pop
      21: ldc           #43                 // int 0
      23: istore_3
      24: invokestatic  #49                 // Method org/codehaus/groovy/runtime/BytecodeInterface8.isOrigInt:()Z
      27: ifeq          45
      30: getstatic     #51                 // Field __$stMC:Z
      33: ifne          45
      36: invokestatic  #54                 // Method org/codehaus/groovy/runtime/BytecodeInterface8.disabledStandardMetaClass:()Z
      39: ifne          45
      42: goto          81
      45: aload_1
      46: ldc           #43                 // int 0
      48: aaload
      49: aload_0
      50: iconst_0
      51: invokestatic  #37                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      54: invokeinterface #60,  3           // InterfaceMethod org/codehaus/groovy/runtime/callsite/CallSite.call:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      59: ldc           #33                 // class java/lang/Integer
      61: invokestatic  #66                 // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.asType:(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      64: checkcast     #33                 // class java/lang/Integer
      67: astore        4
      69: aload         4
      71: invokevirtual #70                 // Method java/lang/Integer.intValue:()I
      74: istore_3
      75: aload         4
      77: pop
      78: goto          105
      81: aload_0
      82: iconst_0
      83: invokestatic  #74                 // Method org/codehaus/groovy/runtime/BytecodeInterface8.objectArrayGet:([Ljava/lang/Object;I)Ljava/lang/Object;
      86: ldc           #33                 // class java/lang/Integer
      88: invokestatic  #66                 // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.asType:(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      91: checkcast     #33                 // class java/lang/Integer
      94: astore        5
      96: aload         5
      98: invokevirtual #70                 // Method java/lang/Integer.intValue:()I
     101: istore_3
     102: aload         5
     104: pop
     105: aconst_null
     106: new           #39                 // class groovy/lang/Reference
     109: dup_x1
     110: swap
     111: invokespecial #42                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
     114: astore        6
     116: aload         6
     118: invokevirtual #78                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     121: checkcast     #80                 // class MessageThread
     124: pop
     125: aconst_null
     126: new           #39                 // class groovy/lang/Reference
     129: dup_x1
     130: swap
     131: invokespecial #42                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
     134: astore        7
     136: aload         7
     138: invokevirtual #78                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     141: checkcast     #80                 // class MessageThread
     144: pop
     145: aload_1
     146: ldc           #81                 // int 1
     148: aaload
     149: aload_2
     150: invokevirtual #78                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     153: checkcast     #33                 // class java/lang/Integer
     156: iconst_1
     157: invokestatic  #37                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     160: ldc           #81                 // int 1
     162: invokestatic  #85                 // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.createRange:(Ljava/lang/Object;Ljava/lang/Object;Z)Ljava/util/List;
     165: new           #87                 // class threadring$_main_closure1
     168: dup
     169: ldc           #2                  // class threadring
     171: ldc           #2                  // class threadring
     173: aload_2
     174: aload         7
     176: aload         6
     178: invokespecial #90                 // Method threadring$_main_closure1."&lt;init&gt;":(Ljava/lang/Object;Ljava/lang/Object;Lgroovy/lang/Reference;Lgroovy/lang/Reference;Lgroovy/lang/Reference;)V
     181: invokeinterface #60,  3           // InterfaceMethod org/codehaus/groovy/runtime/callsite/CallSite.call:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     186: pop
     187: aload         6
     189: invokevirtual #78                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     192: checkcast     #80                 // class MessageThread
     195: astore        8
     197: aload         8
     199: aconst_null
     200: aload         7
     202: invokevirtual #78                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     205: checkcast     #80                 // class MessageThread
     208: ldc           #92                 // String nextThread
     210: checkcast     #94                 // class java/lang/String
     213: invokestatic  #98                 // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.setProperty:(Ljava/lang/Object;Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;)V
     216: aload         8
     218: pop
     219: aload         6
     221: invokevirtual #78                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     224: checkcast     #80                 // class MessageThread
     227: new           #39                 // class groovy/lang/Reference
     230: dup_x1
     231: swap
     232: invokespecial #42                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
     235: astore        9
     237: aload         9
     239: pop
     240: aload_1
     241: ldc           #99                 // int 2
     243: aaload
     244: aload_2
     245: invokevirtual #78                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     248: checkcast     #33                 // class java/lang/Integer
     251: new           #101                // class threadring$_main_closure2
     254: dup
     255: ldc           #2                  // class threadring
     257: ldc           #2                  // class threadring
     259: aload         9
     261: invokespecial #104                // Method threadring$_main_closure2."&lt;init&gt;":(Ljava/lang/Object;Ljava/lang/Object;Lgroovy/lang/Reference;)V
     264: invokeinterface #60,  3           // InterfaceMethod org/codehaus/groovy/runtime/callsite/CallSite.call:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     269: pop
     270: aload_1
     271: ldc           #105                // int 3
     273: aaload
     274: aload         6
     276: invokevirtual #78                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     279: checkcast     #80                 // class MessageThread
     282: iload_3
     283: invokestatic  #37                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     286: invokeinterface #60,  3           // InterfaceMethod org/codehaus/groovy/runtime/callsite/CallSite.call:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     291: pop
     292: aload_1
     293: ldc           #106                // int 4
     295: aaload
     296: aload         6
     298: invokevirtual #78                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     301: checkcast     #80                 // class MessageThread
     304: invokeinterface #109,  2          // InterfaceMethod org/codehaus/groovy/runtime/callsite/CallSite.call:(Ljava/lang/Object;)Ljava/lang/Object;
     309: pop
     310: return

  protected groovy.lang.MetaClass $getStaticMetaClass();
    Code:
       0: aload_0
       1: invokevirtual #122                // Method java/lang/Object.getClass:()Ljava/lang/Class;
       4: ldc           #2                  // class threadring
       6: if_acmpeq     14
       9: aload_0
      10: invokestatic  #126                // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.initMetaClass:(Ljava/lang/Object;)Lgroovy/lang/MetaClass;
      13: areturn
      14: getstatic     #128                // Field $staticClassInfo:Lorg/codehaus/groovy/reflection/ClassInfo;
      17: astore_1
      18: aload_1
      19: ifnonnull     34
      22: aload_0
      23: invokevirtual #122                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      26: invokestatic  #134                // Method org/codehaus/groovy/reflection/ClassInfo.getClassInfo:(Ljava/lang/Class;)Lorg/codehaus/groovy/reflection/ClassInfo;
      29: dup
      30: astore_1
      31: putstatic     #128                // Field $staticClassInfo:Lorg/codehaus/groovy/reflection/ClassInfo;
      34: aload_1
      35: invokevirtual #137                // Method org/codehaus/groovy/reflection/ClassInfo.getMetaClass:()Lgroovy/lang/MetaClass;
      38: areturn

  public groovy.lang.MetaClass getMetaClass();
    Code:
       0: aload_0
       1: getfield      #27                 // Field metaClass:Lgroovy/lang/MetaClass;
       4: dup
       5: ifnull        9
       8: areturn
       9: pop
      10: aload_0
      11: dup
      12: invokevirtual #25                 // Method $getStaticMetaClass:()Lgroovy/lang/MetaClass;
      15: putfield      #27                 // Field metaClass:Lgroovy/lang/MetaClass;
      18: aload_0
      19: getfield      #27                 // Field metaClass:Lgroovy/lang/MetaClass;
      22: areturn

  public void setMetaClass(groovy.lang.MetaClass);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #27                 // Field metaClass:Lgroovy/lang/MetaClass;
       5: return

  public java.lang.Object invokeMethod(java.lang.String, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #142                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokeinterface #147,  4          // InterfaceMethod groovy/lang/MetaClass.invokeMethod:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      12: areturn

  public java.lang.Object getProperty(java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #142                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: invokeinterface #152,  3          // InterfaceMethod groovy/lang/MetaClass.getProperty:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: areturn

  public void setProperty(java.lang.String, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #142                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokeinterface #156,  4          // InterfaceMethod groovy/lang/MetaClass.setProperty:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;)V
      12: return
}
</code>
        </pre>
      </div>
      <div class='col-md-4'>
        <h2 class='text-center'>Invoke Dynamic</h2>
        <pre>
          <code class='assembly'>Compiled from "threadring.groovy"
public class threadring implements groovy.lang.GroovyObject {
  public static transient boolean __$stMC;

  public threadring();
    Code:
       0: aload_0
       1: invokespecial #17                 // Method java/lang/Object."&lt;init&gt;":()V
       4: aload_0
       5: invokevirtual #21                 // Method $getStaticMetaClass:()Lgroovy/lang/MetaClass;
       8: astore_1
       9: aload_1
      10: aload_0
      11: swap
      12: putfield      #23                 // Field metaClass:Lgroovy/lang/MetaClass;
      15: aload_1
      16: pop
      17: return

  public static void main(java.lang.String...);
    Code:
       0: sipush        503
       3: invokestatic  #33                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
       6: new           #35                 // class groovy/lang/Reference
       9: dup_x1
      10: swap
      11: invokespecial #38                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
      14: astore_1
      15: aload_1
      16: pop
      17: aload_0
      18: iconst_0
      19: invokedynamic #52,  0             // InvokeDynamic #0:invoke:([Ljava/lang/String;I)Ljava/lang/Object;
      24: ldc           #29                 // class java/lang/Integer
      26: invokedynamic #57,  0             // InvokeDynamic #1:invoke:(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      31: checkcast     #29                 // class java/lang/Integer
      34: invokevirtual #61                 // Method java/lang/Integer.intValue:()I
      37: istore_2
      38: iload_2
      39: pop
      40: aconst_null
      41: new           #35                 // class groovy/lang/Reference
      44: dup_x1
      45: swap
      46: invokespecial #38                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
      49: astore_3
      50: aload_3
      51: invokevirtual #65                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
      54: checkcast     #67                 // class MessageThread
      57: pop
      58: aconst_null
      59: new           #35                 // class groovy/lang/Reference
      62: dup_x1
      63: swap
      64: invokespecial #38                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
      67: astore        4
      69: aload         4
      71: invokevirtual #65                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
      74: checkcast     #67                 // class MessageThread
      77: pop
      78: aload_1
      79: invokevirtual #65                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
      82: checkcast     #29                 // class java/lang/Integer
      85: iconst_1
      86: invokestatic  #33                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      89: ldc           #68                 // int 1
      91: invokestatic  #74                 // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.createRange:(Ljava/lang/Object;Ljava/lang/Object;Z)Ljava/util/List;
      94: new           #76                 // class threadring$_main_closure1
      97: dup
      98: ldc           #2                  // class threadring
     100: ldc           #2                  // class threadring
     102: aload_1
     103: aload         4
     105: aload_3
     106: invokespecial #79                 // Method threadring$_main_closure1."&lt;init&gt;":(Ljava/lang/Object;Ljava/lang/Object;Lgroovy/lang/Reference;Lgroovy/lang/Reference;Lgroovy/lang/Reference;)V
     109: invokedynamic #84,  0             // InvokeDynamic #2:invoke:(Lgroovy/lang/Range;Lgroovy/lang/Closure;)Ljava/lang/Object;
     114: pop
     115: aload_3
     116: invokevirtual #65                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     119: checkcast     #67                 // class MessageThread
     122: astore        5
     124: aload         5
     126: aconst_null
     127: aload         4
     129: invokevirtual #65                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     132: checkcast     #67                 // class MessageThread
     135: ldc           #86                 // String nextThread
     137: checkcast     #88                 // class java/lang/String
     140: invokestatic  #92                 // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.setProperty:(Ljava/lang/Object;Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;)V
     143: aload         5
     145: pop
     146: aload_3
     147: invokevirtual #65                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     150: checkcast     #67                 // class MessageThread
     153: new           #35                 // class groovy/lang/Reference
     156: dup_x1
     157: swap
     158: invokespecial #38                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
     161: astore        6
     163: aload         6
     165: pop
     166: aload_1
     167: invokevirtual #65                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     170: checkcast     #29                 // class java/lang/Integer
     173: new           #94                 // class threadring$_main_closure2
     176: dup
     177: ldc           #2                  // class threadring
     179: ldc           #2                  // class threadring
     181: aload         6
     183: invokespecial #97                 // Method threadring$_main_closure2."&lt;init&gt;":(Ljava/lang/Object;Ljava/lang/Object;Lgroovy/lang/Reference;)V
     186: invokedynamic #102,  0            // InvokeDynamic #3:invoke:(Ljava/lang/Integer;Lgroovy/lang/Closure;)Ljava/lang/Object;
     191: pop
     192: aload_3
     193: invokevirtual #65                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     196: checkcast     #67                 // class MessageThread
     199: iload_2
     200: invokedynamic #107,  0            // InvokeDynamic #4:invoke:(LMessageThread;I)Ljava/lang/Object;
     205: pop
     206: aload_3
     207: invokevirtual #65                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     210: checkcast     #67                 // class MessageThread
     213: invokedynamic #112,  0            // InvokeDynamic #5:invoke:(LMessageThread;)Ljava/lang/Object;
     218: pop
     219: return

  protected groovy.lang.MetaClass $getStaticMetaClass();
    Code:
       0: aload_0
       1: invokevirtual #125                // Method java/lang/Object.getClass:()Ljava/lang/Class;
       4: ldc           #2                  // class threadring
       6: if_acmpeq     14
       9: aload_0
      10: invokestatic  #129                // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.initMetaClass:(Ljava/lang/Object;)Lgroovy/lang/MetaClass;
      13: areturn
      14: getstatic     #131                // Field $staticClassInfo:Lorg/codehaus/groovy/reflection/ClassInfo;
      17: astore_1
      18: aload_1
      19: ifnonnull     34
      22: aload_0
      23: invokevirtual #125                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      26: invokestatic  #137                // Method org/codehaus/groovy/reflection/ClassInfo.getClassInfo:(Ljava/lang/Class;)Lorg/codehaus/groovy/reflection/ClassInfo;
      29: dup
      30: astore_1
      31: putstatic     #131                // Field $staticClassInfo:Lorg/codehaus/groovy/reflection/ClassInfo;
      34: aload_1
      35: invokevirtual #140                // Method org/codehaus/groovy/reflection/ClassInfo.getMetaClass:()Lgroovy/lang/MetaClass;
      38: areturn

  public groovy.lang.MetaClass getMetaClass();
    Code:
       0: aload_0
       1: getfield      #23                 // Field metaClass:Lgroovy/lang/MetaClass;
       4: dup
       5: ifnull        9
       8: areturn
       9: pop
      10: aload_0
      11: dup
      12: invokevirtual #21                 // Method $getStaticMetaClass:()Lgroovy/lang/MetaClass;
      15: putfield      #23                 // Field metaClass:Lgroovy/lang/MetaClass;
      18: aload_0
      19: getfield      #23                 // Field metaClass:Lgroovy/lang/MetaClass;
      22: areturn

  public void setMetaClass(groovy.lang.MetaClass);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #23                 // Field metaClass:Lgroovy/lang/MetaClass;
       5: return

  public java.lang.Object invokeMethod(java.lang.String, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #147                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokeinterface #150,  4          // InterfaceMethod groovy/lang/MetaClass.invokeMethod:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      12: areturn

  public java.lang.Object getProperty(java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #147                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: invokeinterface #155,  3          // InterfaceMethod groovy/lang/MetaClass.getProperty:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: areturn

  public void setProperty(java.lang.String, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #147                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokeinterface #159,  4          // InterfaceMethod groovy/lang/MetaClass.setProperty:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;)V
      12: return
}
</code>
        </pre>
      </div>
      <div class='col-md-4'>
        <h2 class='text-center'>Static Compilation</h2>
        <pre>
          <code class='assembly'>Compiled from "threadring.groovy"
public class threadring implements groovy.lang.GroovyObject {
  public static transient boolean __$stMC;

  public threadring();
    Code:
       0: aload_0
       1: invokespecial #17                 // Method java/lang/Object."&lt;init&gt;":()V
       4: aload_0
       5: invokevirtual #21                 // Method $getStaticMetaClass:()Lgroovy/lang/MetaClass;
       8: astore_1
       9: aload_1
      10: aload_0
      11: swap
      12: putfield      #23                 // Field metaClass:Lgroovy/lang/MetaClass;
      15: aload_1
      16: pop
      17: return

  public static void main(java.lang.String...);
    Code:
       0: sipush        503
       3: invokestatic  #33                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
       6: new           #35                 // class groovy/lang/Reference
       9: dup_x1
      10: swap
      11: invokespecial #38                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
      14: astore_1
      15: aload_1
      16: pop
      17: aload_0
      18: iconst_0
      19: invokestatic  #44                 // Method org/codehaus/groovy/runtime/BytecodeInterface8.objectArrayGet:([Ljava/lang/Object;I)Ljava/lang/Object;
      22: ldc           #29                 // class java/lang/Integer
      24: invokestatic  #50                 // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.asType:(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      27: checkcast     #29                 // class java/lang/Integer
      30: invokevirtual #54                 // Method java/lang/Integer.intValue:()I
      33: istore_2
      34: iload_2
      35: pop
      36: aconst_null
      37: new           #35                 // class groovy/lang/Reference
      40: dup_x1
      41: swap
      42: invokespecial #38                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
      45: astore_3
      46: aload_3
      47: invokevirtual #58                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
      50: checkcast     #60                 // class MessageThread
      53: pop
      54: aconst_null
      55: new           #35                 // class groovy/lang/Reference
      58: dup_x1
      59: swap
      60: invokespecial #38                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
      63: astore        4
      65: aload         4
      67: invokevirtual #58                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
      70: checkcast     #60                 // class MessageThread
      73: pop
      74: new           #62                 // class groovy/lang/IntRange
      77: dup
      78: iconst_1
      79: aload_1
      80: invokevirtual #58                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
      83: checkcast     #29                 // class java/lang/Integer
      86: invokevirtual #54                 // Method java/lang/Integer.intValue:()I
      89: iconst_1
      90: invokespecial #65                 // Method groovy/lang/IntRange."&lt;init&gt;":(ZII)V
      93: new           #67                 // class threadring$_main_closure1
      96: dup
      97: ldc           #2                  // class threadring
      99: ldc           #2                  // class threadring
     101: aload_1
     102: aload         4
     104: aload_3
     105: invokespecial #70                 // Method threadring$_main_closure1."&lt;init&gt;":(Ljava/lang/Object;Ljava/lang/Object;Lgroovy/lang/Reference;Lgroovy/lang/Reference;Lgroovy/lang/Reference;)V
     108: invokestatic  #76                 // Method org/codehaus/groovy/runtime/DefaultGroovyMethods.each:(Ljava/util/List;Lgroovy/lang/Closure;)Ljava/util/List;
     111: pop
     112: aload_3
     113: invokevirtual #58                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     116: checkcast     #60                 // class MessageThread
     119: dup
     120: astore        5
     122: aload         4
     124: invokevirtual #58                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     127: checkcast     #60                 // class MessageThread
     130: aload         5
     132: invokevirtual #80                 // Method MessageThread.setNextThread:(LMessageThread;)V
     135: aconst_null
     136: pop
     137: pop
     138: aload_3
     139: invokevirtual #58                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     142: checkcast     #60                 // class MessageThread
     145: new           #35                 // class groovy/lang/Reference
     148: dup_x1
     149: swap
     150: invokespecial #38                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
     153: astore        6
     155: aload         6
     157: pop
     158: aload_1
     159: invokevirtual #58                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     162: checkcast     #29                 // class java/lang/Integer
     165: new           #82                 // class threadring$_main_closure2
     168: dup
     169: ldc           #2                  // class threadring
     171: ldc           #2                  // class threadring
     173: aload         6
     175: invokespecial #85                 // Method threadring$_main_closure2."&lt;init&gt;":(Ljava/lang/Object;Ljava/lang/Object;Lgroovy/lang/Reference;)V
     178: invokestatic  #89                 // Method org/codehaus/groovy/runtime/DefaultGroovyMethods.times:(Ljava/lang/Number;Lgroovy/lang/Closure;)V
     181: aconst_null
     182: pop
     183: aload_3
     184: invokevirtual #58                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     187: checkcast     #60                 // class MessageThread
     190: iload_2
     191: invokestatic  #33                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     194: invokevirtual #93                 // Method MessageThread.enqueue:(Ljava/lang/Integer;)V
     197: aconst_null
     198: pop
     199: aload_3
     200: invokevirtual #58                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     203: checkcast     #60                 // class MessageThread
     206: checkcast     #60                 // class MessageThread
     209: invokevirtual #96                 // Method MessageThread.join:()V
     212: aconst_null
     213: pop
     214: return

  protected groovy.lang.MetaClass $getStaticMetaClass();
    Code:
       0: aload_0
       1: invokevirtual #109                // Method java/lang/Object.getClass:()Ljava/lang/Class;
       4: ldc           #2                  // class threadring
       6: if_acmpeq     14
       9: aload_0
      10: invokestatic  #113                // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.initMetaClass:(Ljava/lang/Object;)Lgroovy/lang/MetaClass;
      13: areturn
      14: getstatic     #115                // Field $staticClassInfo:Lorg/codehaus/groovy/reflection/ClassInfo;
      17: astore_1
      18: aload_1
      19: ifnonnull     34
      22: aload_0
      23: invokevirtual #109                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      26: invokestatic  #121                // Method org/codehaus/groovy/reflection/ClassInfo.getClassInfo:(Ljava/lang/Class;)Lorg/codehaus/groovy/reflection/ClassInfo;
      29: dup
      30: astore_1
      31: putstatic     #115                // Field $staticClassInfo:Lorg/codehaus/groovy/reflection/ClassInfo;
      34: aload_1
      35: invokevirtual #124                // Method org/codehaus/groovy/reflection/ClassInfo.getMetaClass:()Lgroovy/lang/MetaClass;
      38: areturn

  public groovy.lang.MetaClass getMetaClass();
    Code:
       0: aload_0
       1: getfield      #23                 // Field metaClass:Lgroovy/lang/MetaClass;
       4: dup
       5: ifnull        9
       8: areturn
       9: pop
      10: aload_0
      11: dup
      12: invokevirtual #21                 // Method $getStaticMetaClass:()Lgroovy/lang/MetaClass;
      15: putfield      #23                 // Field metaClass:Lgroovy/lang/MetaClass;
      18: aload_0
      19: getfield      #23                 // Field metaClass:Lgroovy/lang/MetaClass;
      22: areturn

  public void setMetaClass(groovy.lang.MetaClass);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #23                 // Field metaClass:Lgroovy/lang/MetaClass;
       5: return

  public java.lang.Object invokeMethod(java.lang.String, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #129                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokeinterface #134,  4          // InterfaceMethod groovy/lang/MetaClass.invokeMethod:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      12: areturn

  public java.lang.Object getProperty(java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #129                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: invokeinterface #139,  3          // InterfaceMethod groovy/lang/MetaClass.getProperty:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: areturn

  public void setProperty(java.lang.String, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #129                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokeinterface #144,  4          // InterfaceMethod groovy/lang/MetaClass.setProperty:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;)V
      12: return
}
</code>
        </pre>
      </div>
    </div>
    <div class='col-sm-12'>
      <h2>AFTER</h2>
    </div>
    <div class='row col-lg-12'>
      <div class='col-md-4'>
        <h2 class='text-center'>Groovyc (Legacy)</h2>
        <pre>
          <code class='assembly'>Compiled from "threadring.groovy"
public class threadring implements groovy.lang.GroovyObject {
  public static transient boolean __$stMC;

  public threadring();
    Code:
       0: aload_0
       1: invokespecial #25                 // Method java/lang/Object."&lt;init&gt;":()V
       4: invokestatic  #29                 // Method $getCallSiteArray:()[Lorg/codehaus/groovy/runtime/callsite/CallSite;
       7: astore_1
       8: aload_0
       9: invokevirtual #33                 // Method $getStaticMetaClass:()Lgroovy/lang/MetaClass;
      12: astore_2
      13: aload_2
      14: aload_0
      15: swap
      16: putfield      #35                 // Field metaClass:Lgroovy/lang/MetaClass;
      19: return

  public static void main(java.lang.String...);
    Code:
       0: invokestatic  #29                 // Method $getCallSiteArray:()[Lorg/codehaus/groovy/runtime/callsite/CallSite;
       3: astore_1
       4: sipush        503
       7: invokestatic  #45                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      10: new           #47                 // class groovy/lang/Reference
      13: dup_x1
      14: swap
      15: invokespecial #50                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
      18: astore_2
      19: ldc           #51                 // int 0
      21: istore_3
      22: invokestatic  #57                 // Method org/codehaus/groovy/runtime/BytecodeInterface8.isOrigInt:()Z
      25: ifeq          43
      28: getstatic     #59                 // Field __$stMC:Z
      31: ifne          43
      34: invokestatic  #62                 // Method org/codehaus/groovy/runtime/BytecodeInterface8.disabledStandardMetaClass:()Z
      37: ifne          43
      40: goto          76
      43: aload_1
      44: ldc           #51                 // int 0
      46: aaload
      47: aload_0
      48: iconst_0
      49: invokestatic  #45                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      52: invokeinterface #68,  3           // InterfaceMethod org/codehaus/groovy/runtime/callsite/CallSite.call:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      57: ldc           #41                 // class java/lang/Integer
      59: invokestatic  #74                 // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.asType:(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      62: checkcast     #41                 // class java/lang/Integer
      65: astore        4
      67: aload         4
      69: invokevirtual #78                 // Method java/lang/Integer.intValue:()I
      72: istore_3
      73: goto          97
      76: aload_0
      77: iconst_0
      78: invokestatic  #82                 // Method org/codehaus/groovy/runtime/BytecodeInterface8.objectArrayGet:([Ljava/lang/Object;I)Ljava/lang/Object;
      81: ldc           #41                 // class java/lang/Integer
      83: invokestatic  #74                 // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.asType:(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      86: checkcast     #41                 // class java/lang/Integer
      89: astore        5
      91: aload         5
      93: invokevirtual #78                 // Method java/lang/Integer.intValue:()I
      96: istore_3
      97: aconst_null
      98: new           #47                 // class groovy/lang/Reference
     101: dup_x1
     102: swap
     103: invokespecial #50                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
     106: astore        6
     108: aload         6
     110: invokevirtual #86                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     113: checkcast     #88                 // class MessageThread
     116: pop
     117: aconst_null
     118: new           #47                 // class groovy/lang/Reference
     121: dup_x1
     122: swap
     123: invokespecial #50                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
     126: astore        7
     128: aload         7
     130: invokevirtual #86                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     133: checkcast     #88                 // class MessageThread
     136: pop
     137: aload_1
     138: ldc           #89                 // int 1
     140: aaload
     141: aload_2
     142: invokevirtual #86                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     145: checkcast     #41                 // class java/lang/Integer
     148: iconst_1
     149: invokestatic  #45                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     152: ldc           #89                 // int 1
     154: invokestatic  #93                 // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.createRange:(Ljava/lang/Object;Ljava/lang/Object;Z)Ljava/util/List;
     157: new           #9                  // class threadring$_main_closure1
     160: dup
     161: ldc           #2                  // class threadring
     163: ldc           #2                  // class threadring
     165: aload_2
     166: aload         7
     168: aload         6
     170: invokespecial #96                 // Method threadring$_main_closure1."&lt;init&gt;":(Ljava/lang/Object;Ljava/lang/Object;Lgroovy/lang/Reference;Lgroovy/lang/Reference;Lgroovy/lang/Reference;)V
     173: invokeinterface #68,  3           // InterfaceMethod org/codehaus/groovy/runtime/callsite/CallSite.call:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     178: pop
     179: aload         6
     181: invokevirtual #86                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     184: checkcast     #88                 // class MessageThread
     187: astore        8
     189: aload         8
     191: aconst_null
     192: aload         7
     194: invokevirtual #86                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     197: checkcast     #88                 // class MessageThread
     200: ldc           #98                 // String nextThread
     202: checkcast     #100                // class java/lang/String
     205: invokestatic  #104                // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.setProperty:(Ljava/lang/Object;Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;)V
     208: aload         6
     210: invokevirtual #86                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     213: checkcast     #88                 // class MessageThread
     216: new           #47                 // class groovy/lang/Reference
     219: dup_x1
     220: swap
     221: invokespecial #50                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
     224: astore        9
     226: aload_1
     227: ldc           #105                // int 2
     229: aaload
     230: aload_2
     231: invokevirtual #86                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     234: checkcast     #41                 // class java/lang/Integer
     237: new           #12                 // class threadring$_main_closure2
     240: dup
     241: ldc           #2                  // class threadring
     243: ldc           #2                  // class threadring
     245: aload         9
     247: invokespecial #108                // Method threadring$_main_closure2."&lt;init&gt;":(Ljava/lang/Object;Ljava/lang/Object;Lgroovy/lang/Reference;)V
     250: invokeinterface #68,  3           // InterfaceMethod org/codehaus/groovy/runtime/callsite/CallSite.call:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     255: pop
     256: aload_1
     257: ldc           #109                // int 3
     259: aaload
     260: aload         6
     262: invokevirtual #86                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     265: checkcast     #88                 // class MessageThread
     268: iload_3
     269: invokestatic  #45                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     272: invokeinterface #68,  3           // InterfaceMethod org/codehaus/groovy/runtime/callsite/CallSite.call:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     277: pop
     278: aload_1
     279: ldc           #110                // int 4
     281: aaload
     282: aload         6
     284: invokevirtual #86                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     287: checkcast     #88                 // class MessageThread
     290: invokeinterface #113,  2          // InterfaceMethod org/codehaus/groovy/runtime/callsite/CallSite.call:(Ljava/lang/Object;)Ljava/lang/Object;
     295: pop
     296: return

  protected groovy.lang.MetaClass $getStaticMetaClass();
    Code:
       0: aload_0
       1: invokevirtual #126                // Method java/lang/Object.getClass:()Ljava/lang/Class;
       4: ldc           #2                  // class threadring
       6: if_acmpeq     14
       9: aload_0
      10: invokestatic  #130                // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.initMetaClass:(Ljava/lang/Object;)Lgroovy/lang/MetaClass;
      13: areturn
      14: getstatic     #132                // Field $staticClassInfo:Lorg/codehaus/groovy/reflection/ClassInfo;
      17: astore_1
      18: aload_1
      19: ifnonnull     34
      22: aload_0
      23: invokevirtual #126                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      26: invokestatic  #138                // Method org/codehaus/groovy/reflection/ClassInfo.getClassInfo:(Ljava/lang/Class;)Lorg/codehaus/groovy/reflection/ClassInfo;
      29: dup
      30: astore_1
      31: putstatic     #132                // Field $staticClassInfo:Lorg/codehaus/groovy/reflection/ClassInfo;
      34: aload_1
      35: invokevirtual #141                // Method org/codehaus/groovy/reflection/ClassInfo.getMetaClass:()Lgroovy/lang/MetaClass;
      38: areturn

  public groovy.lang.MetaClass getMetaClass();
    Code:
       0: aload_0
       1: getfield      #35                 // Field metaClass:Lgroovy/lang/MetaClass;
       4: dup
       5: ifnull        9
       8: areturn
       9: pop
      10: aload_0
      11: dup
      12: invokevirtual #33                 // Method $getStaticMetaClass:()Lgroovy/lang/MetaClass;
      15: putfield      #35                 // Field metaClass:Lgroovy/lang/MetaClass;
      18: aload_0
      19: getfield      #35                 // Field metaClass:Lgroovy/lang/MetaClass;
      22: areturn

  public void setMetaClass(groovy.lang.MetaClass);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #35                 // Field metaClass:Lgroovy/lang/MetaClass;
       5: return

  public java.lang.Object invokeMethod(java.lang.String, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #146                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokeinterface #151,  4          // InterfaceMethod groovy/lang/MetaClass.invokeMethod:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      12: areturn

  public java.lang.Object getProperty(java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #146                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: invokeinterface #156,  3          // InterfaceMethod groovy/lang/MetaClass.getProperty:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: areturn

  public void setProperty(java.lang.String, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #146                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokeinterface #160,  4          // InterfaceMethod groovy/lang/MetaClass.setProperty:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;)V
      12: return
}
</code>
        </pre>
      </div>
      <div class='col-md-4'>
        <h2 class='text-center'>Invoke Dynamic</h2>
        <pre>
          <code class='assembly'>Compiled from "threadring.groovy"
public class threadring implements groovy.lang.GroovyObject {
  public static transient boolean __$stMC;

  public threadring();
    Code:
       0: aload_0
       1: invokespecial #23                 // Method java/lang/Object."&lt;init&gt;":()V
       4: aload_0
       5: invokevirtual #27                 // Method $getStaticMetaClass:()Lgroovy/lang/MetaClass;
       8: astore_1
       9: aload_1
      10: aload_0
      11: swap
      12: putfield      #29                 // Field metaClass:Lgroovy/lang/MetaClass;
      15: return

  public static void main(java.lang.String...);
    Code:
       0: sipush        503
       3: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
       6: new           #41                 // class groovy/lang/Reference
       9: dup_x1
      10: swap
      11: invokespecial #44                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
      14: astore_1
      15: aload_0
      16: iconst_0
      17: invokedynamic #58,  0             // InvokeDynamic #0:invoke:([Ljava/lang/String;I)Ljava/lang/Object;
      22: ldc           #35                 // class java/lang/Integer
      24: invokedynamic #63,  0             // InvokeDynamic #1:invoke:(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      29: checkcast     #35                 // class java/lang/Integer
      32: invokevirtual #67                 // Method java/lang/Integer.intValue:()I
      35: istore_2
      36: aconst_null
      37: new           #41                 // class groovy/lang/Reference
      40: dup_x1
      41: swap
      42: invokespecial #44                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
      45: astore_3
      46: aload_3
      47: invokevirtual #71                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
      50: checkcast     #73                 // class MessageThread
      53: pop
      54: aconst_null
      55: new           #41                 // class groovy/lang/Reference
      58: dup_x1
      59: swap
      60: invokespecial #44                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
      63: astore        4
      65: aload         4
      67: invokevirtual #71                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
      70: checkcast     #73                 // class MessageThread
      73: pop
      74: aload_1
      75: invokevirtual #71                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
      78: checkcast     #35                 // class java/lang/Integer
      81: iconst_1
      82: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      85: ldc           #74                 // int 1
      87: invokestatic  #80                 // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.createRange:(Ljava/lang/Object;Ljava/lang/Object;Z)Ljava/util/List;
      90: new           #9                  // class threadring$_main_closure1
      93: dup
      94: ldc           #2                  // class threadring
      96: ldc           #2                  // class threadring
      98: aload_1
      99: aload         4
     101: aload_3
     102: invokespecial #83                 // Method threadring$_main_closure1."&lt;init&gt;":(Ljava/lang/Object;Ljava/lang/Object;Lgroovy/lang/Reference;Lgroovy/lang/Reference;Lgroovy/lang/Reference;)V
     105: invokedynamic #88,  0             // InvokeDynamic #2:invoke:(Lgroovy/lang/Range;Lgroovy/lang/Closure;)Ljava/lang/Object;
     110: pop
     111: aload_3
     112: invokevirtual #71                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     115: checkcast     #73                 // class MessageThread
     118: astore        5
     120: aload         5
     122: aconst_null
     123: aload         4
     125: invokevirtual #71                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     128: checkcast     #73                 // class MessageThread
     131: ldc           #90                 // String nextThread
     133: checkcast     #92                 // class java/lang/String
     136: invokestatic  #96                 // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.setProperty:(Ljava/lang/Object;Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;)V
     139: aload_3
     140: invokevirtual #71                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     143: checkcast     #73                 // class MessageThread
     146: new           #41                 // class groovy/lang/Reference
     149: dup_x1
     150: swap
     151: invokespecial #44                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
     154: astore        6
     156: aload_1
     157: invokevirtual #71                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     160: checkcast     #35                 // class java/lang/Integer
     163: new           #12                 // class threadring$_main_closure2
     166: dup
     167: ldc           #2                  // class threadring
     169: ldc           #2                  // class threadring
     171: aload         6
     173: invokespecial #99                 // Method threadring$_main_closure2."&lt;init&gt;":(Ljava/lang/Object;Ljava/lang/Object;Lgroovy/lang/Reference;)V
     176: invokedynamic #104,  0            // InvokeDynamic #3:invoke:(Ljava/lang/Integer;Lgroovy/lang/Closure;)Ljava/lang/Object;
     181: pop
     182: aload_3
     183: invokevirtual #71                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     186: checkcast     #73                 // class MessageThread
     189: iload_2
     190: invokedynamic #109,  0            // InvokeDynamic #4:invoke:(LMessageThread;I)Ljava/lang/Object;
     195: pop
     196: aload_3
     197: invokevirtual #71                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     200: checkcast     #73                 // class MessageThread
     203: invokedynamic #114,  0            // InvokeDynamic #5:invoke:(LMessageThread;)Ljava/lang/Object;
     208: pop
     209: return

  protected groovy.lang.MetaClass $getStaticMetaClass();
    Code:
       0: aload_0
       1: invokevirtual #127                // Method java/lang/Object.getClass:()Ljava/lang/Class;
       4: ldc           #2                  // class threadring
       6: if_acmpeq     14
       9: aload_0
      10: invokestatic  #131                // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.initMetaClass:(Ljava/lang/Object;)Lgroovy/lang/MetaClass;
      13: areturn
      14: getstatic     #133                // Field $staticClassInfo:Lorg/codehaus/groovy/reflection/ClassInfo;
      17: astore_1
      18: aload_1
      19: ifnonnull     34
      22: aload_0
      23: invokevirtual #127                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      26: invokestatic  #139                // Method org/codehaus/groovy/reflection/ClassInfo.getClassInfo:(Ljava/lang/Class;)Lorg/codehaus/groovy/reflection/ClassInfo;
      29: dup
      30: astore_1
      31: putstatic     #133                // Field $staticClassInfo:Lorg/codehaus/groovy/reflection/ClassInfo;
      34: aload_1
      35: invokevirtual #142                // Method org/codehaus/groovy/reflection/ClassInfo.getMetaClass:()Lgroovy/lang/MetaClass;
      38: areturn

  public groovy.lang.MetaClass getMetaClass();
    Code:
       0: aload_0
       1: getfield      #29                 // Field metaClass:Lgroovy/lang/MetaClass;
       4: dup
       5: ifnull        9
       8: areturn
       9: pop
      10: aload_0
      11: dup
      12: invokevirtual #27                 // Method $getStaticMetaClass:()Lgroovy/lang/MetaClass;
      15: putfield      #29                 // Field metaClass:Lgroovy/lang/MetaClass;
      18: aload_0
      19: getfield      #29                 // Field metaClass:Lgroovy/lang/MetaClass;
      22: areturn

  public void setMetaClass(groovy.lang.MetaClass);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #29                 // Field metaClass:Lgroovy/lang/MetaClass;
       5: return

  public java.lang.Object invokeMethod(java.lang.String, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #149                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokeinterface #152,  4          // InterfaceMethod groovy/lang/MetaClass.invokeMethod:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      12: areturn

  public java.lang.Object getProperty(java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #149                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: invokeinterface #157,  3          // InterfaceMethod groovy/lang/MetaClass.getProperty:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: areturn

  public void setProperty(java.lang.String, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #149                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokeinterface #161,  4          // InterfaceMethod groovy/lang/MetaClass.setProperty:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;)V
      12: return
}
</code>
        </pre>
      </div>
      <div class='col-md-4'>
        <h2 class='text-center'>Static Compilation</h2>
        <pre>
          <code class='assembly'>Compiled from "threadring.groovy"
public class threadring implements groovy.lang.GroovyObject {
  public static transient boolean __$stMC;

  public threadring();
    Code:
       0: aload_0
       1: invokespecial #23                 // Method java/lang/Object."&lt;init&gt;":()V
       4: aload_0
       5: invokevirtual #27                 // Method $getStaticMetaClass:()Lgroovy/lang/MetaClass;
       8: astore_1
       9: aload_1
      10: aload_0
      11: swap
      12: putfield      #29                 // Field metaClass:Lgroovy/lang/MetaClass;
      15: return

  public static void main(java.lang.String...);
    Code:
       0: sipush        503
       3: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
       6: new           #41                 // class groovy/lang/Reference
       9: dup_x1
      10: swap
      11: invokespecial #44                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
      14: astore_1
      15: aload_0
      16: iconst_0
      17: invokestatic  #50                 // Method org/codehaus/groovy/runtime/BytecodeInterface8.objectArrayGet:([Ljava/lang/Object;I)Ljava/lang/Object;
      20: ldc           #35                 // class java/lang/Integer
      22: invokestatic  #56                 // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.asType:(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      25: checkcast     #35                 // class java/lang/Integer
      28: invokevirtual #60                 // Method java/lang/Integer.intValue:()I
      31: istore_2
      32: aconst_null
      33: new           #41                 // class groovy/lang/Reference
      36: dup_x1
      37: swap
      38: invokespecial #44                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
      41: astore_3
      42: aload_3
      43: invokevirtual #64                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
      46: checkcast     #66                 // class MessageThread
      49: pop
      50: aconst_null
      51: new           #41                 // class groovy/lang/Reference
      54: dup_x1
      55: swap
      56: invokespecial #44                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
      59: astore        4
      61: aload         4
      63: invokevirtual #64                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
      66: checkcast     #66                 // class MessageThread
      69: pop
      70: new           #68                 // class groovy/lang/IntRange
      73: dup
      74: iconst_1
      75: aload_1
      76: invokevirtual #64                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
      79: checkcast     #35                 // class java/lang/Integer
      82: invokevirtual #60                 // Method java/lang/Integer.intValue:()I
      85: iconst_1
      86: invokespecial #71                 // Method groovy/lang/IntRange."&lt;init&gt;":(ZII)V
      89: new           #9                  // class threadring$_main_closure1
      92: dup
      93: ldc           #2                  // class threadring
      95: ldc           #2                  // class threadring
      97: aload_1
      98: aload         4
     100: aload_3
     101: invokespecial #74                 // Method threadring$_main_closure1."&lt;init&gt;":(Ljava/lang/Object;Ljava/lang/Object;Lgroovy/lang/Reference;Lgroovy/lang/Reference;Lgroovy/lang/Reference;)V
     104: invokestatic  #80                 // Method org/codehaus/groovy/runtime/DefaultGroovyMethods.each:(Ljava/util/List;Lgroovy/lang/Closure;)Ljava/util/List;
     107: pop
     108: aload_3
     109: invokevirtual #64                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     112: checkcast     #66                 // class MessageThread
     115: dup
     116: astore        5
     118: aload         4
     120: invokevirtual #64                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     123: checkcast     #66                 // class MessageThread
     126: aload         5
     128: invokevirtual #84                 // Method MessageThread.setNextThread:(LMessageThread;)V
     131: pop
     132: aload_3
     133: invokevirtual #64                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     136: checkcast     #66                 // class MessageThread
     139: new           #41                 // class groovy/lang/Reference
     142: dup_x1
     143: swap
     144: invokespecial #44                 // Method groovy/lang/Reference."&lt;init&gt;":(Ljava/lang/Object;)V
     147: astore        6
     149: aload_1
     150: invokevirtual #64                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     153: checkcast     #35                 // class java/lang/Integer
     156: new           #12                 // class threadring$_main_closure2
     159: dup
     160: ldc           #2                  // class threadring
     162: ldc           #2                  // class threadring
     164: aload         6
     166: invokespecial #87                 // Method threadring$_main_closure2."&lt;init&gt;":(Ljava/lang/Object;Ljava/lang/Object;Lgroovy/lang/Reference;)V
     169: invokestatic  #91                 // Method org/codehaus/groovy/runtime/DefaultGroovyMethods.times:(Ljava/lang/Number;Lgroovy/lang/Closure;)V
     172: aload_3
     173: invokevirtual #64                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     176: checkcast     #66                 // class MessageThread
     179: iload_2
     180: invokestatic  #39                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     183: invokevirtual #95                 // Method MessageThread.enqueue:(Ljava/lang/Integer;)V
     186: aload_3
     187: invokevirtual #64                 // Method groovy/lang/Reference.get:()Ljava/lang/Object;
     190: checkcast     #66                 // class MessageThread
     193: checkcast     #66                 // class MessageThread
     196: invokevirtual #98                 // Method MessageThread.join:()V
     199: return

  protected groovy.lang.MetaClass $getStaticMetaClass();
    Code:
       0: aload_0
       1: invokevirtual #111                // Method java/lang/Object.getClass:()Ljava/lang/Class;
       4: ldc           #2                  // class threadring
       6: if_acmpeq     14
       9: aload_0
      10: invokestatic  #115                // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.initMetaClass:(Ljava/lang/Object;)Lgroovy/lang/MetaClass;
      13: areturn
      14: getstatic     #117                // Field $staticClassInfo:Lorg/codehaus/groovy/reflection/ClassInfo;
      17: astore_1
      18: aload_1
      19: ifnonnull     34
      22: aload_0
      23: invokevirtual #111                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      26: invokestatic  #123                // Method org/codehaus/groovy/reflection/ClassInfo.getClassInfo:(Ljava/lang/Class;)Lorg/codehaus/groovy/reflection/ClassInfo;
      29: dup
      30: astore_1
      31: putstatic     #117                // Field $staticClassInfo:Lorg/codehaus/groovy/reflection/ClassInfo;
      34: aload_1
      35: invokevirtual #126                // Method org/codehaus/groovy/reflection/ClassInfo.getMetaClass:()Lgroovy/lang/MetaClass;
      38: areturn

  public groovy.lang.MetaClass getMetaClass();
    Code:
       0: aload_0
       1: getfield      #29                 // Field metaClass:Lgroovy/lang/MetaClass;
       4: dup
       5: ifnull        9
       8: areturn
       9: pop
      10: aload_0
      11: dup
      12: invokevirtual #27                 // Method $getStaticMetaClass:()Lgroovy/lang/MetaClass;
      15: putfield      #29                 // Field metaClass:Lgroovy/lang/MetaClass;
      18: aload_0
      19: getfield      #29                 // Field metaClass:Lgroovy/lang/MetaClass;
      22: areturn

  public void setMetaClass(groovy.lang.MetaClass);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #29                 // Field metaClass:Lgroovy/lang/MetaClass;
       5: return

  public java.lang.Object invokeMethod(java.lang.String, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #131                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokeinterface #136,  4          // InterfaceMethod groovy/lang/MetaClass.invokeMethod:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      12: areturn

  public java.lang.Object getProperty(java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #131                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: invokeinterface #141,  3          // InterfaceMethod groovy/lang/MetaClass.getProperty:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: areturn

  public void setProperty(java.lang.String, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #131                // Method getMetaClass:()Lgroovy/lang/MetaClass;
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokeinterface #146,  4          // InterfaceMethod groovy/lang/MetaClass.setProperty:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;)V
      12: return
}
</code>
        </pre>
      </div>
    </div>
  </body>
</html>